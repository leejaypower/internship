<template>
  <div class="d-flex flex-column justify-center align-center full-height pb-8">
    <span class="text-h4 font-weight-medium text-center">
      {{ weatherSimpleNote }}
    </span>
    <div>
      <img
        v-if="weatherIcon"
        alt="ë‚ ì”¨ ì•„ì´ì½˜"
        :src="weatherIcon"
        height="160"
      >
      <span
        v-else
      >
        ì•„ì´ì½˜ ì •ë³´ ì—†ìŒ
      </span>
    </div>
    <div class="text-h4 font-weight-bold">
      {{ temperature }}&deg;C
    </div>
    <div class="subtitle-1 font-weight-bold pb-4">
      <span>ìµœì € : {{ minTemperature }}&deg;C</span>
      <span> / </span>
      <span>ìµœê³  : {{ maxTemperature }}&deg;C</span>
    </div>
    <div class="text-h5 font-weight-bold pb-4">
      <span>ë¯¸ì„¸ ë¨¼ì§€</span>
      <span> : </span>
      <span>{{ airQuality }}</span>
    </div>
    <div>
      <v-btn @click="moveToWeatherDetail">
        ë‚ ì”¨ ìì„¸íˆ ë³´ê¸°
      </v-btn>
    </div>
  </div>
</template>
<script>
import { mapActions } from 'vuex'

export default {
  name: 'CurrentWeather',
  props: {
    currentWeather: {
      type: Object,
      default: () => ({}),
    },
    currentAirPollution: {
      type: Object,
      default: () => ({}),
    },
  },
  computed: {
    weatherSimpleNote() {
      return this.currentWeather?.weatherSimpleNote ? this.currentWeather?.weatherSimpleNote : '-'
    },
    weatherIcon() {
      return this.currentWeather?.weatherIcon
    },
    temperature() {
      return this.currentWeather?.temperature ? this.currentWeather?.temperature : '-'
    },
    minTemperature() {
      return this.currentWeather?.minTemperature ? this.currentWeather?.minTemperature : '-'
    },
    maxTemperature() {
      return this.currentWeather?.maxTemperature ? this.currentWeather?.maxTemperature : '-'
    },
    airQuality() {
      return this.currentAirPollution?.airQuality ? this.currentAirPollution?.airQuality : '-'
    },
  },
  methods: {
    ...mapActions('alert', ['alertOpen']),
    moveToWeatherDetail() {
      // ì¶”í›„ì— ì£¼ê°„ ë‚ ì”¨ ì •ë³´ ì™„ì„±ë˜ë©´ ê·¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ”ê±°ë¡œ êµ¬í˜„í•˜ê² ìŠµë‹ˆë‹¤.
      this.alertOpen(
        { message: 'ì•„ì§ ì¤€ë¹„ê°€ ì§„í–‰ì¤‘ì…ë‹ˆë‹¤. ğŸš…' },
      )
    },
  },
}
</script>
